# 参数修复说明

## 问题描述

用户反馈构建脚本的参数顺序不一致，导致在 GitHub Actions 中调用时出现混乱。具体问题是：

- **Arch Linux 脚本** (`arch-desktop_build.sh`) 的参数顺序与 GitHub Actions 调用方式不一致
- **Debian/Ubuntu 脚本** (`debian-desktop_build.sh`, `ubuntu-desktop_build.sh`) 的参数顺序也不一致

## 修复内容

### 1. Arch Linux 脚本 (`arch-desktop_build.sh`)

**修复前：**
```bash
./arch-desktop_build.sh [桌面环境] [内核版本]
```

**修复后：**
```bash
./arch-desktop_build.sh [占位符] [内核版本]
```

**说明：**
- 第一个参数现在是占位符，可以忽略
- 第二个参数是内核版本
- 这样与 GitHub Actions 的调用方式保持一致：
  ```bash
  sudo sh arch-desktop_build.sh gnome 6.18
  ```

### 2. Debian 脚本 (`debian-desktop_build.sh`)

**修复前：**
```bash
./debian-desktop_build.sh [内核版本] [桌面环境]
```

**修复后：**
```bash
./debian-desktop_build.sh [占位符] [内核版本]
```

**说明：**
- 第一个参数现在是占位符，可以忽略
- 第二个参数是内核版本
- 与 GitHub Actions 保持一致：
  ```bash
  sudo sh debian-desktop_build.sh phosh-full 6.18
  ```

### 3. Ubuntu 脚本 (`ubuntu-desktop_build.sh`)

**修复前：**
```bash
./ubuntu-desktop_build.sh [内核版本] [桌面环境]
```

**修复后：**
```bash
./ubuntu-desktop_build.sh [占位符] [内核版本]
```

**说明：**
- 第一个参数现在是占位符，可以忽略
- 第二个参数是内核版本
- 与 GitHub Actions 保持一致：
  ```bash
  sudo sh ubuntu-desktop_build.sh phosh-full 6.18
  ```

## 为什么需要占位符参数？

GitHub Actions 的工作流定义中，桌面环境参数是作为第一个参数传递的，内核版本是作为第二个参数传递的。为了保持与 GitHub Actions 的调用方式一致，我们在脚本中添加了一个占位符参数。

## 使用示例

### GitHub Actions 调用方式（推荐）

```bash
# 构建 Debian Phosh 桌面环境
sudo sh debian-desktop_build.sh phosh-full 6.18

# 构建 Ubuntu GNOME 桌面环境
sudo sh ubuntu-desktop_build.sh phosh-full 6.18

# 构建 Arch GNOME 桌面环境
sudo sh arch-desktop_build.sh gnome 6.18
```

### 本地调用方式

```bash
# 也可以使用占位符参数
sudo sh debian-desktop_build.sh 6.18 phosh-full
sudo sh ubuntu-desktop_build.sh 6.18 phosh-full
sudo sh arch-desktop_build.sh 6.18 gnome
```

## 桌面环境参数说明

所有脚本都支持以下桌面环境参数：

- **gnome** - GNOME 桌面环境
- **plasma** - KDE Plasma 桌面环境
- **xfce** - XFCE 桌面环境
- **mate** - MATE 桌面环境
- **lxqt** - LXQt 桌面环境
- **lxde** - LXDE 桌面环境
- **none** - 无桌面环境
- **phosh-core** - Phosh 核心桌面环境
- **phosh-full** - Phosh 完整桌面环境
- **phosh-phone** - Phosh 手机桌面环境

## 内核版本格式

内核版本必须是有效的版本号格式，例如：
- `6.18`
- `6.18.1`
- `6.19`

## 验证修复

修复完成后，可以验证脚本的参数验证是否正常工作：

```bash
# 测试无效的内核版本
sudo sh arch-desktop_build.sh 6.18 invalid

# 测试无效的桌面环境
sudo sh arch-desktop_build.sh invalid 6.18
```

## 总结

这次修复统一了所有构建脚本的参数顺序，使其与 GitHub Actions 的调用方式保持一致，解决了用户反馈的"选项不对劲"的问题。现在用户可以放心地使用 GitHub Actions 构建系统镜像，而不会出现参数混乱的情况。